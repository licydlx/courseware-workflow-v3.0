window.__require=function e(t,n,o){function r(i,c){if(!n[i]){if(!t[i]){var u=i.split("/");if(u=u[u.length-1],!t[u]){var s="function"==typeof __require&&__require;if(!c&&s)return s(u,!0);if(a)return a(u,!0);throw new Error("Cannot find module '"+i+"'")}i=u}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){return r(t[i][1][e]||e)},l,l.exports,e,t,n,o)}return n[i].exports}for(var a="function"==typeof __require&&__require,i=0;i<o.length;i++)r(o[i]);return r}({"controller-model01":[function(e,t,n){"use strict";cc._RF.push(t,"b8d5b6tNDRLBrTDH+irS+ph","controller-model01");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{u(o.next(e))}catch(t){a(t)}}function c(e){try{u(o.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,c)}u((o=o.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(c){a=[6,c],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var u=cc._decorator,s=u.ccclass,l=(u.property,window.GlobalData),f=l.gameData,p=(l.monitorMessage,window.GlobalData.sample),h=p.loadPrefab,d=p.loadBundle,g=(p.loadResource,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._pagePrefabs=[],t._cPage=null,t}return r(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(e){return i(this,void 0,void 0,function(){var t,n,o,r,a,i,u,s,l,p,g;return c(this,function(c){switch(c.label){case 0:return e.pathConfig.resourceName?(window.globalThis||(window.globalThis={},window.globalThis._=window._),this._configJson=e,fgui.GRoot.create(),t=""+e.pathConfig.remoteUrl+e.pathConfig.panelBundlePath+e.pathConfig.panelName,[4,d(t)]):(console.error("\u7d20\u6750\u8d44\u6e90\u672a\u914d\u7f6e\uff01"),[2]);case 1:return n=c.sent(),[4,h(n,n.name)];case 2:o=c.sent(),(r=cc.instantiate(o)).parent=cc.find("Canvas").parent,r.x=cc.find("Canvas").x,r.y=cc.find("Canvas").y,a=0,c.label=3;case 3:return a<e.chapters.length?(i=""+e.pathConfig.remoteUrl+e.pathConfig.modelBundlePath+e.chapters[a].model.bundleName,[4,d(i)]):[3,7];case 4:return u=c.sent(),[4,h(u,e.chapters[a].model.prefabName)];case 5:s=c.sent(),this._pagePrefabs[a]=s,c.label=6;case 6:return a++,[3,3];case 7:return l=""+e.pathConfig.remoteUrl+e.pathConfig.resourceBundlePath+e.pathConfig.resourceName,p=this,[4,d(l)];case 8:return p._resourceBundle=c.sent(),g=f,[4,this.loadResourcePackage(this._resourceBundle,e.pathConfig.packageName)];case 9:return g.resourceBundle=c.sent(),[4,this.onJumpConfig(1)];case 10:return c.sent(),[2]}})})},t.prototype.loadResourcePackage=function(e,t){return i(this,void 0,void 0,function(){return c(this,function(){return[2,new Promise(function(n){fgui.UIPackage.loadPackage(e,t,function(e,t){n(t._bundle)})})]})})},t.prototype.onJumpConfig=function(e){return i(this,void 0,void 0,function(){var t,n,o,r;return c(this,function(){return t=e-1,(n=this._configJson.chapters[t])?(fgui.GRoot.inst.removeChildren(0,-1,!0),this._currentPageNode&&this._currentPageNode.destroy(),o=this._pagePrefabs[t],(r=cc.instantiate(o)).getComponent(cc.Component).init({pathConfig:this._configJson.pathConfig,model:n.model,components:n.components}),r.parent=this.node,this._currentPageNode=r,this._cPage=e,window.GlobalData.courseData.stateShoot=globalThis._.cloneDeep(window.GlobalData.stateProxy.state),[2]):[2]})})},a([s],t)}(cc.Component));n.default=g,cc._RF.pop()},{}]},{},["controller-model01"]);