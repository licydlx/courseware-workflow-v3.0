window.__require=function t(e,i,o){function n(a,h){if(!i[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var u="function"==typeof __require&&__require;if(!h&&u)return u(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){return n(e[a][1][t]||t)},c,c.exports,t,e,i,o)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<o.length;a++)n(o[a]);return n}({"inputChoose-model01-v1":[function(t,e,i){"use strict";cc._RF.push(e,"74bc4Chi+lGqY2ii2x4oIJq","inputChoose-model01-v1");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var h=t.length-1;h>=0;h--)(n=t[h])&&(a=(s<3?n(a):s>3?n(e,i,a):n(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,h=a.ccclass,r=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numBtns=[],e._answer=0,e._state={},e}return n(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t,this.updateUi(this._state),this.mergeState()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._view.y=(fgui.GRoot.inst.height-this._view.height)/2,fgui.GRoot.inst.addChild(this._view),this._submit=this._view.getChild("submit").asButton,this._submit.on(fgui.Event.CLICK,this._clickSubmit,this),this._numInput=this._view.getChild("numInput").asButton,this._numInput.on(fgui.Event.CLICK,this._clickNumInput,this),this._chooseBox=this._view.getChild("chooseBox").asButton,this._chooseBox.visible=!1,this._clearBtn=this._chooseBox.getChild("clearBtn").asButton,this._clearBtn.on(fgui.Event.CLICK,this._clickClearBtn,this);for(var t=this._chooseBox.getChild("numBox").asGroup,e=0;e<this._chooseBox.numChildren;e++)if(this._chooseBox.getChildAt(e).group==t){var i=this._chooseBox.getChildAt(e).asButton;this._numBtns.push(i),i.on(fgui.Event.CLICK,this._clickNumBtn,this)}this._state={numInput:"",chooseBox:!1,submit:!1,answer:!1}},e.prototype.init=function(t){var e=t.Package,i=t.GComponent,o=t.config,n=o.answer,s=o.ae;for(var a in this._view=fgui.UIPackage.createObject(e,i).asCom,s)s[a]&&(this[a]={},s[a].component&&(this[a].component=fgui.UIPackage.createObject(e,s[a].component).asCom),s[a].pos&&(this[a].pos=s[a].pos));n&&(this._answer=n)},e.prototype._clickNumInput=function(){var t=globalThis._.cloneDeep(this._state);t.chooseBox=!t.chooseBox,t.answer=parseInt(t.numInput)===this._answer,this.updateState(t)},e.prototype._clickClearBtn=function(){var t=globalThis._.cloneDeep(this._state);t.numInput="",t.answer=t.drops===this._answer,this.updateState(t)},e.prototype._clickNumBtn=function(t){var e=fgui.GObject.cast(t.currentTarget),i=this._numBtns.findIndex(function(t){return t==e});if(-1!==i){var o=globalThis._.cloneDeep(this._state);o.numInput.length<2&&(o.numInput=o.numInput+i+"",o.answer=parseInt(o.numInput)===this._answer,this.updateState(o))}},e.prototype._clickSubmit=function(){var t=globalThis._.cloneDeep(this._state);t.chooseBox=!1,t.answer=parseInt(t.numInput)===this._answer,t.submit=!0,this.updateState(t)},e.prototype.getState=function(t){this.updateState(t)},e.prototype.updateState=function(t){globalThis._.isEqual(this._state,t)||(this.state=t)},e.prototype.updateUi=function(t){this._chooseBox.visible=t.chooseBox,this._numInput.getChild("title").text=t.numInput,t.submit&&(t.numInput?this.answerFeedback(t.answer):this.onHandleGuide())},e.prototype.answerFeedback=function(t){var e,i,o=this,n=globalThis._.cloneDeep(this._state);t?(e=this.rightFeed.component,i=this.rightFeed.pos):(e=this.errorFeed.component,i=this.errorFeed.pos),fgui.GRoot.inst.addChild(e),i?(e.x=(fgui.GRoot.inst.width-e.width)/2+i.x,e.y=(fgui.GRoot.inst.height-e.height)/2+i.y):e.y=(fgui.GRoot.inst.height-e.height)/2,e.getTransition("t0").play(function(){fgui.GRoot.inst.removeChild(e),n.submit=!1,o.updateState(n)},2)},e.prototype.onHandleGuide=function(){var t=this;if(this.handleGuide){var e=globalThis._.cloneDeep(this._state);fgui.GRoot.inst.addChild(this.handleGuide.component),this.handleGuide.pos?(this.handleGuide.component.x=(fgui.GRoot.inst.width-this.handleGuide.component.width)/2+this.handleGuide.pos.x,this.handleGuide.component.y=(fgui.GRoot.inst.height-this.handleGuide.component.height)/2+this.handleGuide.pos.y):this.handleGuide.component.y=(fgui.GRoot.inst.height-this.handleGuide.component.height)/2,this.handleGuide.component.getTransition("t0").play(function(){fgui.GRoot.inst.removeChild(t.handleGuide.component),e.submit=!1,t.updateState(e)},2)}},e.prototype.registerState=function(){window.GlobalData.sample.registerState&&window.GlobalData.sample.registerState.call(this)},e.prototype.relieveState=function(){window.GlobalData.sample.relieveState&&window.GlobalData.sample.relieveState.call(this)},e.prototype.mergeState=function(){window.GlobalData.sample.mergeState&&window.GlobalData.sample.mergeState.call(this)},e.prototype.onEnable=function(){this.registerState()},e.prototype.onDisable=function(){this.relieveState()},s([h],e)}(cc.Component));i.default=r,cc._RF.pop()},{}]},{},["inputChoose-model01-v1"]);