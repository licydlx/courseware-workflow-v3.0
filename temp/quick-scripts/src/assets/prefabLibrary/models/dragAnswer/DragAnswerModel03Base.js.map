{"version":3,"sources":["assets\\prefabLibrary\\models\\dragAnswer\\DragAnswerModel03Base.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import IDragAnswerModel03Base from \"./IDragAnswerModel03Base\";\r\nconst { loadBundle, loadPrefab, loadResource } = window['GlobalData'].sample;\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\nexport default interface PageData {\r\n    pathConfig: any,\r\n    model: any,\r\n    components: any\r\n}\r\n@ccclass\r\nexport default class DragAnswerModel03Base extends cc.Component {\r\n\r\n    protected _readTitleBtn: fgui.GComponent;\r\n    protected _submitBtn: fgui.GComponent;\r\n\r\n    protected _view: fgui.GComponent;\r\n    public pageData: any;\r\n\r\n    /* private _state = {};\r\n\r\n    get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    set state(v: any) {\r\n        this.updateUi(this._state, v);\r\n        this._state = v;\r\n\r\n        this.mergeState();\r\n    } */\r\n\r\n\r\n    async init(data) {\r\n        let s = this;\r\n        s.pageData = data;\r\n        let { pathConfig, model, components } = data;\r\n        let Package = pathConfig.packageName;\r\n        let GComponent = model.uiPath;\r\n        let { answer, ae } = model.config;\r\n\r\n        if (model.uiPath) {\r\n            GComponent = model.uiPath;\r\n            this._view = fgui.UIPackage.createObject(Package, GComponent).asCom;\r\n        }\r\n\r\n        s._readTitleBtn = fgui.UIPackage.createObject('t4-trialClass-01', 'TitleCom').asCom;\r\n\r\n        (s._readTitleBtn.getChild('title') as fgui.GLoader).url = fgui.UIPackage.createObject('t4-trialClass-01', 'title_3').asImage.resourceURL;\r\n        s._readTitleBtn.x = 20;\r\n        s._readTitleBtn.y = 50;\r\n        this._view.addChild(s._readTitleBtn);\r\n        \r\n\r\n        s._submitBtn = fgui.UIPackage.createObject('t4-trialClass-01', 'SubmitBtn').asCom;\r\n        s._submitBtn.x = 1676;\r\n        s._submitBtn.y = 806;\r\n        this._view.addChild(s._submitBtn);\r\n\r\n        if (model.config) {\r\n            // if (answer) this._answer = answer;\r\n            // 动效注册\r\n            if (ae) {\r\n                for (let v in ae) {\r\n                    if (ae[v]) {\r\n                        this[v] = {};\r\n                        if (ae[v].component) this[v].component = fgui.UIPackage.createObject(Package, ae[v].component).asCom;\r\n                        if (ae[v].pos) this[v].pos = ae[v].pos;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (components) {\r\n            for (const key in components) {\r\n                let componentPath: any = `${pathConfig.remoteUrl}${pathConfig.componentBundlePath}${components[key].bundleName}`;\r\n                let componentBundle: any = await loadBundle(componentPath);\r\n                let componentPrefab: any = await loadPrefab(componentBundle, components[key].prefabName);\r\n                this[key] = componentPrefab;\r\n            }\r\n        }\r\n\r\n        \r\n        \r\n    }\r\n\r\n\r\n}"]}