{"version":3,"sources":["assets\\prefabLibrary\\components\\formal-panle-model02\\javascripts\\formal-panle-model02.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;GAOG;AACG,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAkD,wCAAY;IAA9D;QAAA,qEA0SC;QArSG,eAAS,GAAY,IAAI,CAAC;QAM1B,iBAAW,GAAY,IAAI,CAAC;QAM5B,YAAM,GAAc,EAAE,CAAC;QAEhB,YAAM,GAAG;YACZ,IAAI,EAAE,KAAK;YACX,cAAc,EAAE,CAAC;YACjB,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,IAAI;YACZ,WAAW,EAAE,EAAE;YACf,OAAO,EAAE,EAAE;YACX,SAAS,EAAE,EAAE;SAChB,CAAC;QAcM,WAAK,GAAG,IAAI,CAAC;;IAiQzB,CAAC;IA7QG,sBAAI,uCAAK;aAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aAED,UAAU,CAAM;YACZ,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YAChB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC3B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAEjC,IAAI,CAAC,UAAU,EAAE,CAAC;QACtB,CAAC;;;OARA;IAYD,qCAAM,GAAN;QACI,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;QACtD,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IACpD,CAAC;IAED,MAAM;IACA,mCAAI,GAAV;;;;KAAgB;IAEhB,oCAAK,GAAL;QACI,IAAI,KAAK,GAAQ,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrD,KAAK,CAAC,cAAc,GAAG,CAAC,CAAC;QACzB,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC;QACrB,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;QACvB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;QACpB,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;QAEnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,gBAAgB;IAChB,4CAAa,GAAb;QACI,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,aAAa;YAAE,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACxG,CAAC;IAED,gBAAgB;IAChB,2CAAY,GAAZ;QACI,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY;YAAE,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACtG,CAAC;IAED,aAAa;IACb,yCAAU,GAAV;QACI,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,UAAU;YAAE,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAClG,CAAC;IAED,OAAO;IACP,uCAAQ,GAAR,UAAS,IAAS;QACd,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IAED,OAAO;IACP,wCAAS,GAAT,UAAU,CAAM,EAAE,GAAQ;QACtB,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC;YAAE,OAAO;QAEtD,IAAI,KAAK,GAAQ,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrD,KAAK,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC;QACzB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAC5B,CAAC;IAED,OAAO;IACP,mDAAoB,GAApB,UAAqB,CAAM,EAAE,GAAQ;QACjC,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC;YAAE,OAAO;QAEtD,IAAI,GAAG,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,cAAc;YAAE,OAAO;QAClE,IAAI,KAAK,GAAQ,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrD,KAAK,CAAC,cAAc,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;QAErC,IAAI,GAAG,IAAI,CAAC,EAAE;YACV,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;YACvB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;YACpB,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;SACtB;aAAM,IAAI,GAAG,IAAI,CAAC,EAAE;YACjB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;SACvB;aAAM,IAAI,GAAG,IAAI,CAAC,EAAE;YACjB,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;SAC1B;QAED,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;QACjF,IAAI,QAAQ,GAAQ,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC;QAE/D,IAAI,QAAQ,EAAE;YACV,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAC,CAAC;gBAC7B,IAAI,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,sBAAsB,EAAE;oBACnF,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;oBACxC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBACpD;YACL,CAAC,CAAC,CAAC;SACN;QAED,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAC5B,CAAC;IAED,OAAO;IACP,8CAAe,GAAf,UAAgB,CAAM,EAAE,GAAQ;QAC5B,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC;YAAE,OAAO;QAEtD,IAAI,KAAK,GAAQ,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAErD,IAAI,SAAS,GAAG,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;QACpD,IAAI,aAAa,GAAG,kBAAkB,CAAC,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QAElF,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;QACjF,IAAI,QAAa,CAAC;QAElB,IAAI,KAAK,CAAC,SAAS,IAAI,SAAS,EAAE;YAC9B,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;YACvB,QAAQ,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC;SACzD;aAAM;YACH,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;YAE5B,KAAK;YACL,iCAAiC;YACjC,IAAI,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;gBAC5B,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;aACzC;iBAAM,IAAG,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,EAAC;gBACrC,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;aAC7C;SACJ;QAED,IAAI,QAAQ,EAAE;YACV,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAC,CAAC;gBAC7B,IAAI,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,sBAAsB,EAAE;oBACnF,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;oBACxC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBACpD;YACL,CAAC,CAAC,CAAC;SACN;QAED,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAC5B,CAAC;IAED,OAAO;IACP,2CAAY,GAAZ,UAAa,CAAM,EAAE,GAAQ;QACzB,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC;YAAE,OAAO;QAEtD,IAAI,KAAK,GAAQ,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrD,IAAI,MAAM,GAAG,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;QACjD,IAAI,UAAU,GAAG,kBAAkB,CAAC,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QAE/E,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;QACjF,IAAI,QAAa,CAAC;QAClB,IAAI,KAAK,CAAC,MAAM,IAAI,MAAM,EAAE;YACxB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;YACpB,QAAQ,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC;SACzD;aAAM;YACH,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;YAEtB,KAAK;YACL,iCAAiC;YACjC,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;gBACzB,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;aACtC;iBAAM,IAAG,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,EAAC;gBAClC,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;aAC1C;SACJ;QAED,IAAI,QAAQ,EAAE;YACV,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAC,CAAC;gBAC7B,IAAI,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,sBAAsB,EAAE;oBACnF,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;oBACxC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBACpD;YACL,CAAC,CAAC,CAAC;SACN;QAED,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAC5B,CAAC;IAED,UAAU;IACV,gDAAiB,GAAjB,UAAkB,IAAS;QACvB,IAAI,KAAK,GAAQ,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrD,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAC5B,CAAC;IAED,aAAa;IACb,4CAAa,GAAb,UAAc,MAAW;QACrB,IAAI,KAAK,GAAQ,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrD,IAAI,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,UAAC,CAAM,IAAK,OAAA,CAAC,IAAI,MAAM,EAAX,CAAW,CAAC,CAAC;QAC7D,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;YACb,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;YAC1B,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SAC3B;IACL,CAAC;IAED,QAAQ;IACR,0CAAW,GAAX,UAAY,QAAa;QACrB,IAAI,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC;YAAE,OAAO;QACxD,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC;IAC1B,CAAC;IAED,MAAM;IACN,uCAAQ,GAAR,UAAS,KAAU;QACf,gBAAgB;QAChB,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;QAChC,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;QAClC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC;aACnB,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;aACvC,KAAK,EAAE,CAAC;QAEb,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC;aACrB,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;aACrC,KAAK,EAAE,CAAC;QAEb,WAAW;QACX,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACzC,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YAC7C,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YACjD,EAAE,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;YACxG,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;SAC3G;QAED,eAAe;QACf,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,cAAc,GAAG,KAAK,CAAC,cAAc,CAAC;QACtE,WAAW;QACX,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;IAEhE,CAAC;IAED,yCAAU,GAAV,UAAW,KAAU;QACjB,OAAO,KAAK,CAAC,MAAM,CAAC,UAAC,CAAM,IAAK,OAAA,CAAC,CAAC,IAAI,IAAI,CAAC,EAAX,CAAW,CAAC,CAAC;IACjD,CAAC;IAED,uCAAQ,GAAR,UAAS,KAAU;QACf,IAAI,KAAK,GAAQ,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrD,IAAI,GAAG,GAAG,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,UAAC,CAAM,IAAK,OAAA,CAAC,EAAD,CAAC,CAAC,CAAC;QAC/C,IAAI,KAAK,GAAG,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,UAAC,CAAM,IAAK,OAAA,CAAC,CAAC,EAAE,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,EAAnB,CAAmB,CAAC,CAAA;QACxE,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;YACnC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SACtB;QACD,OAAO,GAAG,CAAC;IACf,CAAC;IAED,wCAAS,GAAT,UAAU,KAAU;QAChB,IAAI,KAAK,GAAQ,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrD,OAAO,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,UAAC,CAAM,IAAK,OAAA,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,EAApB,CAAoB,CAAC,CAAC;IACtE,CAAC;IAED,6CAAc,GAAd,UAAe,IAAS;QACpB,iCAAiC;QACjC,qBAAqB;QACrB,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE;YACnB,IAAI,IAAI,SAAK,CAAC;YACd,IAAI,IAAI,CAAC,IAAI,IAAI,QAAQ,EAAE;gBACvB,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACtC;YAED,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;gBACtB,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACrC;YAED,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;gBACrB,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACpC;YAED,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;SAChC;IACL,CAAC;IAED,uCAAQ,GAAR;QACI,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAED,wCAAS,GAAT;QACI,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IApSD;QAJC,QAAQ,CAAC;YACN,IAAI,EAAE,EAAE,CAAC,IAAI;YACb,WAAW,EAAE,cAAc;SAC9B,CAAC;2DACwB;IAM1B;QAJC,QAAQ,CAAC;YACN,IAAI,EAAE,EAAE,CAAC,IAAI;YACb,WAAW,EAAE,gBAAgB;SAChC,CAAC;6DAC0B;IAM5B;QAJC,QAAQ,CAAC;YACN,IAAI,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC;YACf,WAAW,EAAE,MAAM;SACtB,CAAC;wDACqB;IAjBN,oBAAoB;QADxC,OAAO;OACa,oBAAoB,CA0SxC;IAAD,2BAAC;CA1SD,AA0SC,CA1SiD,EAAE,CAAC,SAAS,GA0S7D;kBA1SoB,oBAAoB","file":"","sourceRoot":"/","sourcesContent":["/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: ydlx\r\n * @Date: 2020-11-19 18:05:09\r\n * @LastEditors: ydlx\r\n * @LastEditTime: 2021-03-05 17:30:42\r\n */\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class formal_panle_model02 extends cc.Component {\r\n    @property({\r\n        type: cc.Node,\r\n        displayName: 'modelList 节点'\r\n    })\r\n    modelList: cc.Node = null;\r\n\r\n    @property({\r\n        type: cc.Node,\r\n        displayName: 'studentList 节点'\r\n    })\r\n    studentList: cc.Node = null;\r\n\r\n    @property({\r\n        type: [cc.Node],\r\n        displayName: '模式节点'\r\n    })\r\n    models: cc.Node[] = [];\r\n\r\n    public _state = {\r\n        show: false,\r\n        signalingModel: 1,\r\n        monitored: null,\r\n        launch: null,\r\n        studentList: [],\r\n        ranking: [],\r\n        snapshoot: {}\r\n    };\r\n\r\n    get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    set state(v: any) {\r\n        this._state = v;\r\n        this.updateUi(this._state);\r\n        this._stJs.updateUi(this._state);\r\n\r\n        this.mergeState();\r\n    }\r\n\r\n    private _stJs = null;\r\n\r\n    onLoad() {\r\n        let student = this.node.getChildByName('studentList');\r\n        this._stJs = student.getComponent(cc.Component);\r\n    }\r\n\r\n    // 初始化\r\n    async init() { }\r\n\r\n    reset() {\r\n        let state: any = globalThis._.cloneDeep(this._state);\r\n        state.signalingModel = 1;\r\n        state.snapshoot = {};\r\n        state.monitored = null;\r\n        state.launch = null;\r\n        state.ranking = [];\r\n\r\n        this.state = state;\r\n    }\r\n\r\n    // 注册状态，及获取状态的方法\r\n    registerState() {\r\n        if (window['GlobalData'].sample.registerState) window['GlobalData'].sample.registerState.call(this);\r\n    }\r\n\r\n    // 解除状态，及获取状态的方法\r\n    relieveState() {\r\n        if (window['GlobalData'].sample.relieveState) window['GlobalData'].sample.relieveState.call(this);\r\n    }\r\n\r\n    // 本组件状态合并到全局\r\n    mergeState() {\r\n        if (window['GlobalData'].sample.mergeState) window['GlobalData'].sample.mergeState.call(this);\r\n    }\r\n\r\n    // 获取状态\r\n    getState(data: any) {\r\n        this.updateState(data);\r\n    }\r\n\r\n    // 切换面板\r\n    switchBox(e: any, ced: any) {\r\n        if (window['GlobalData'].courseData.role != 0) return;\r\n\r\n        let state: any = globalThis._.cloneDeep(this._state);\r\n        state.show = !state.show;\r\n        this.updateState(state);\r\n    }\r\n\r\n    // 切换模式\r\n    changeSignalingModel(e: any, ced: any) {\r\n        if (window['GlobalData'].courseData.role != 0) return;\r\n\r\n        if (ced == window['GlobalData'].courseData.signalingModel) return;\r\n        let state: any = globalThis._.cloneDeep(this._state);\r\n        state.signalingModel = parseInt(ced);\r\n\r\n        if (ced == 1) {\r\n            state.monitored = null;\r\n            state.launch = null;\r\n            state.ranking = [];\r\n        } else if (ced == 2) {\r\n            state.launch = null;\r\n        } else if (ced == 3) {\r\n            state.monitored = null;\r\n        }\r\n\r\n        let prevState = globalThis._.cloneDeep(window['GlobalData'].stateProxy[\"state\"]);\r\n        let curState: any = window['GlobalData'].courseData.stateShoot;\r\n\r\n        if (curState) {\r\n            Object.keys(prevState).forEach((v) => {\r\n                if (!(globalThis._.isEqual(prevState[v], curState[v])) && v != \"formal-panle-model02\") {\r\n                    window['GlobalData'].stateProxy[v] = \"\";\r\n                    window['GlobalData'].pubSub.emit(curState[v], v);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.updateState(state);\r\n    }\r\n\r\n    // 切换监控\r\n    changeMonitored(e: any, ced: any) {\r\n        if (window['GlobalData'].courseData.role != 0) return;\r\n\r\n        let state: any = globalThis._.cloneDeep(this._state);\r\n\r\n        let monitored = state.studentList[parseInt(ced)].id;\r\n        let monitoredName = encodeURIComponent(state.studentList[parseInt(ced)].nickname);\r\n        \r\n        let prevState = globalThis._.cloneDeep(window['GlobalData'].stateProxy[\"state\"]);\r\n        let curState: any;\r\n\r\n        if (state.monitored == monitored) {\r\n            state.monitored = null;\r\n            curState = window['GlobalData'].courseData.stateShoot;\r\n        } else {\r\n            state.monitored = monitored;\r\n\r\n            // 兼容\r\n            // 安卓ipad 部分账户 无法获取userid 用name替代\r\n            if (state.snapshoot[monitored]) {\r\n                curState = state.snapshoot[monitored];\r\n            } else if(state.snapshoot[monitoredName]){\r\n                curState = state.snapshoot[monitoredName];\r\n            }\r\n        }\r\n        \r\n        if (curState) {\r\n            Object.keys(prevState).forEach((v) => {\r\n                if (!(globalThis._.isEqual(prevState[v], curState[v])) && v != \"formal-panle-model02\") {\r\n                    window['GlobalData'].stateProxy[v] = \"\";\r\n                    window['GlobalData'].pubSub.emit(curState[v], v);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.updateState(state);\r\n    }\r\n\r\n    // 切換投放\r\n    changeLaunch(e: any, ced: any) {\r\n        if (window['GlobalData'].courseData.role != 0) return;\r\n\r\n        let state: any = globalThis._.cloneDeep(this._state);\r\n        let launch = state.studentList[parseInt(ced)].id;\r\n        let launchName = encodeURIComponent(state.studentList[parseInt(ced)].nickname);\r\n\r\n        let prevState = globalThis._.cloneDeep(window['GlobalData'].stateProxy[\"state\"]);\r\n        let curState: any;\r\n        if (state.launch == launch) {\r\n            state.launch = null;\r\n            curState = window['GlobalData'].courseData.stateShoot;\r\n        } else {\r\n            state.launch = launch;\r\n\r\n            // 兼容\r\n            // 安卓ipad 部分账户 无法获取userid 用name替代\r\n            if (state.snapshoot[launch]) {\r\n                curState = state.snapshoot[launch];\r\n            } else if(state.snapshoot[launchName]){\r\n                curState = state.snapshoot[launchName];\r\n            }\r\n        }\r\n\r\n        if (curState) {\r\n            Object.keys(prevState).forEach((v) => {\r\n                if (!(globalThis._.isEqual(prevState[v], curState[v])) && v != \"formal-panle-model02\") {\r\n                    window['GlobalData'].stateProxy[v] = \"\";\r\n                    window['GlobalData'].pubSub.emit(curState[v], v);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.updateState(state);\r\n    }\r\n\r\n    // 更新学生列表 \r\n    changeStudentList(data: any) {\r\n        let state: any = globalThis._.cloneDeep(this._state);\r\n        state.studentList = data;\r\n        this.updateState(state);\r\n    }\r\n\r\n    // 更新 答案提交 先后\r\n    changeRanking(userid: any) {\r\n        let state: any = globalThis._.cloneDeep(this._state);\r\n        let index = state.ranking.findIndex((v: any) => v == userid);\r\n        if (index == -1) {\r\n            state.ranking.push(userid)\r\n            this.updateState(state);\r\n        }\r\n    }\r\n\r\n    // 更新状态层\r\n    updateState(curState: any) {\r\n        if (globalThis._.isEqual(this._state, curState)) return;\r\n        this.state = curState;\r\n    }\r\n\r\n    // ui层\r\n    updateUi(state: any) {\r\n        // 模式栏 人员栏 显示与隐藏\r\n        this.modelList.stopAllActions();\r\n        this.studentList.stopAllActions();\r\n        cc.tween(this.modelList)\r\n            .to(.2, { x: state.show ? -930 : -990 })\r\n            .start();\r\n\r\n        cc.tween(this.studentList)\r\n            .to(.2, { y: state.show ? 540 : 640 })\r\n            .start();\r\n\r\n        // 模式栏 激活样式\r\n        for (let i = 0; i < this.models.length; i++) {\r\n            let bg = this.models[i].getChildByName(\"bg\");\r\n            let text = this.models[i].getChildByName(\"text\");\r\n            bg.color = i == (state.signalingModel - 1) ? cc.color(15, 187, 233, 255) : cc.color(255, 255, 255, 255);\r\n            text.color = i == (state.signalingModel - 1) ? cc.color(255, 255, 255, 255) : cc.color(59, 59, 59, 255);\r\n        }\r\n\r\n        // 信令模式 赋值 全局变量\r\n        window['GlobalData'].courseData.signalingModel = state.signalingModel;\r\n        // 监控模式 监控谁\r\n        window['GlobalData'].courseData.monitored = state.monitored;\r\n\r\n    }\r\n\r\n    userCreate(users: any) {\r\n        return users.filter((v: any) => v.role == 2);\r\n    }\r\n\r\n    userJoin(users: any) {\r\n        let state: any = globalThis._.cloneDeep(this._state);\r\n        let arr = state.studentList.map((v: any) => v);\r\n        let index = state.studentList.findIndex((v: any) => v.id == users[0].id)\r\n        if (users[0].role == 2 && index == -1) {\r\n            arr.push(users[0]);\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    userLeave(users: any) {\r\n        let state: any = globalThis._.cloneDeep(this._state);\r\n        return state.studentList.filter((v: any) => v.id !== users[0].id);\r\n    }\r\n\r\n    signalCallback(data: any) {\r\n        // console.log('signalCallback');\r\n        // console.log(data);\r\n        if (data && data.type) {\r\n            let list: any;\r\n            if (data.type == 'create') {\r\n                list = this.userCreate(data.users);\r\n            }\r\n\r\n            if (data.type == 'leave') {\r\n                list = this.userLeave(data.users);\r\n            }\r\n\r\n            if (data.type == 'join') {\r\n                list = this.userJoin(data.users);\r\n            }\r\n\r\n            this.changeStudentList(list);\r\n        }\r\n    }\r\n\r\n    onEnable() {\r\n        this.registerState();\r\n    }\r\n\r\n    onDisable() {\r\n        this.relieveState();\r\n    }\r\n}\r\n"]}