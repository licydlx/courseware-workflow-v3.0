{"version":3,"sources":["assets\\prefabLibrary\\components\\formal-panle-model02\\javascripts\\formal-panle-model02-studentList.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: ydlx\r\n * @Date: 2020-11-19 18:05:09\r\n * @LastEditors: ydlx\r\n * @LastEditTime: 2021-02-01 10:24:09\r\n */\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class formal_panle_model02_studentList extends cc.Component {\r\n    onLoad() { }\r\n\r\n    // 渲染层\r\n    updateUi(state: any) {\r\n        for (let i = 0; i < this.node.children.length; i++) {\r\n            let student = this.node.children[i];\r\n            if (state.studentList[i]) {\r\n                student.active = true;\r\n                // 设置名字\r\n                let name = student.getChildByName('head').getChildByName('name');\r\n                name.getComponent(cc.Label).string = state.studentList[i].nickname;\r\n\r\n                // 设置 监控\r\n                let monitored = student.getChildByName('body').getChildByName('monitored');\r\n                let monitoredShow = monitored.getChildByName('show');\r\n                let monitoredHide = monitored.getChildByName('hide');\r\n                \r\n                if (state.signalingModel == 1) monitored.active = false;\r\n                if (state.signalingModel == 2) monitored.active = true;\r\n                if (state.signalingModel == 3) monitored.active = false;\r\n                if (state.monitored == state.studentList[i].id) {\r\n                    monitoredShow.active = true;\r\n                    monitoredHide.active = false;\r\n                } else {\r\n                    monitoredShow.active = false;\r\n                    monitoredHide.active = true;\r\n                }\r\n\r\n                // 设置 投放\r\n                let launch = student.getChildByName('body').getChildByName('launch');\r\n                let launchShow = launch.getChildByName('show');\r\n                let launchHide = launch.getChildByName('hide');\r\n                \r\n                if (state.signalingModel == 1) launch.active = false;\r\n                if (state.signalingModel == 2) launch.active = false;\r\n                if (state.signalingModel == 3) launch.active = true;\r\n                if (state.launch == state.studentList[i].id) {\r\n                    launchShow.active = true;\r\n                    launchHide.active = false;\r\n                } else {\r\n                    launchShow.active = false;\r\n                    launchHide.active = true;\r\n                }\r\n                                \r\n                // 设置排名\r\n                let rankLabel = student.getChildByName('head').getChildByName('rank').getComponent(cc.Label);\r\n                let index: number = state.ranking.findIndex((v: any) => state.studentList[i].id == v);\r\n                rankLabel.string = index == -1 ? \"\" : (index + 1).toString();\r\n            } else {\r\n                student.active = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    // 数据层\r\n    updateData(data: any) {\r\n\r\n    }\r\n    // update (dt) {}\r\n}\r\n"]}