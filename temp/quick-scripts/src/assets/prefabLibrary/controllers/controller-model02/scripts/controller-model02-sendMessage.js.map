{"version":3,"sources":["assets\\prefabLibrary\\controllers\\controller-model02\\scripts\\controller-model02-sendMessage.ts"],"names":[],"mappings":";;;;;AAAA;;;;;;;GAOG;;;AAEH,SAAgB,WAAW,CAAC,IAAS,EAAE,MAAW;IAC9C,6BAA6B;IAC7B,IAAI,OAAO,GAAG,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAC3C,uBAAuB;IAEnB,IAAA,KAAyC,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,EAAtE,IAAI,UAAA,EAAE,MAAM,YAAA,EAAE,IAAI,UAAA,EAAE,cAAc,oBAAoC,CAAC;IAC7E,IAAI,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,kBAAkB,CAAC;IAE7D,MAAM,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC;QAC7B,MAAM,EAAE,MAAM;QACd,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;QAC5B,IAAI,EAAE,EAAE,MAAM,QAAA,EAAE,IAAI,MAAA,EAAE,IAAI,MAAA,EAAE,cAAc,gBAAA,EAAE;QAC5C,UAAU,EAAE,IAAI;KACnB,CAAC,CAAC;IAEH,SAAS;IACT,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,EAAE;QAC3C,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAAC,SAAS,CAAC;YAC9D,SAAS,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,SAAS;YACpD,KAAK,EAAE,IAAI;SACd,CAAC,CAAC,CAAC;KACP;IAAA,CAAC;AAEN,CAAC;AAvBD,kCAuBC","file":"","sourceRoot":"/","sourcesContent":["/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: ydlx\r\n * @Date: 2021-02-07 11:39:43\r\n * @LastEditors: Please set LastEditors\r\n * @LastEditTime: 2021-05-17 14:53:59\r\n */\r\n\r\nexport function sendMessage(data: any, toUser: any) {\r\n    // console.log('sendMessage')\r\n    let message = globalThis._.cloneDeep(data);\r\n    // console.log(message)\r\n\r\n    let { name, userid, role, signalingModel } = window['GlobalData'].courseData;\r\n    let action = window['GlobalData'].gameMsg.EVENT_UPDATE_STATE;\r\n\r\n    window['GlobalData'].sendMessage({\r\n        action: action,\r\n        toUser: toUser ? toUser : \"\",\r\n        user: { userid, role, name, signalingModel },\r\n        handleData: data\r\n    });\r\n\r\n    // 老师存储信令\r\n    if (window['GlobalData'].courseData.role == 0) {\r\n        cc.sys.localStorage.setItem('COURSE_SIGNALING_DB', JSON.stringify({\r\n            timestamp: window['GlobalData'].courseData.timestamp,\r\n            state: data\r\n        }));\r\n    };\r\n\r\n}"]}